@use '../../styles/theming' as *;

@mixin nb-menu-compact-theme() {
  nb-menu-compact {
    width: nb-theme(sidebar-width-compact);

    ul.menu-items-compact {
      margin: 0;
      padding: 0;
    }

    .menu-group-compact,
    .menu-item-compact a {
      font-family: nb-theme(menu-text-font-family);
      font-size: nb-theme(menu-text-font-size);
      font-weight: nb-theme(menu-text-font-weight);
      line-height: nb-theme(menu-text-line-height);
      padding: nb-theme(menu-item-padding);

      position: relative;

      > nb-badge {
        position: absolute;
      }
    }

    .menu-group-compact,
    .menu-group-compact nb-icon.menu-icon {
      color: nb-theme(menu-group-text-color);
    }

    .menu-items-compact.expanded {
      position: absolute;
      top: 0;
      left: 100%;
      overflow: visible;
    }

    .menu-items-compact.collapsed {
      position: absolute;
      top: 0;
      left: 100%;
      overflow: hidden;
    }

    .menu-item-compact {
      position: relative;

      a {
        color: nb-theme(menu-text-color);
        border-radius: nb-theme(menu-item-border-radius);
      }

      a.active {
        background-color: nb-theme(menu-item-active-background-color);
        color: nb-theme(menu-item-active-text-color);

        .menu-icon-compact {
          color: nb-theme(menu-item-icon-active-color);
        }
      }

      a:hover {
        background-color: nb-theme(menu-item-hover-background-color);
        color: nb-theme(menu-item-hover-text-color);
        cursor: nb-theme(menu-item-hover-cursor);

        .menu-icon-compact {
          color: nb-theme(menu-item-icon-hover-color);
        }
      }

      .menu-icon-compact {
        color: nb-theme(menu-item-icon-color);
        font-size: nb-theme(menu-item-icon-width);
        width: 1em;
        text-align: center;
      }

      .expand-state {
        color: nb-theme(menu-item-icon-color);
      }
    }

    $divider: nb-theme(menu-item-divider-width) nb-theme(menu-item-divider-style) nb-theme(menu-item-divider-color);
    .menu-item-compact {
      border-bottom: $divider;

      &:first-child {
        border-top: none;
      }
      &:last-child {
        border-bottom: none;
      }

      .menu-item-compact:first-child {
        border-top: $divider;
      }
    }

    .menu-item-compact > .menu-items-compact {
      margin: nb-theme(menu-submenu-margin);
    }

    .menu-item-compact > .menu-items-compact > .menu-item-compact {
      background: nb-theme(menu-submenu-background-color);
      color: nb-theme(menu-submenu-text-color);

      a {
        border-color: nb-theme(menu-submenu-item-border-color);
        border-style: nb-theme(menu-submenu-item-border-style);
        border-width: nb-theme(menu-submenu-item-border-width);
        padding: nb-theme(menu-submenu-item-padding);
      }

      a.active {
        background-color: nb-theme(menu-submenu-item-active-background-color);
        border-color: nb-theme(menu-submenu-item-active-border-color);
        color: nb-theme(menu-submenu-item-active-text-color);

        .menu-icon-compact {
          color: nb-theme(menu-submenu-item-icon-active-color);
        }
      }

      a:hover {
        background-color: nb-theme(menu-submenu-item-hover-background-color);
        border-color: nb-theme(menu-submenu-item-hover-border-color);
        color: nb-theme(menu-submenu-item-hover-text-color);

        .menu-icon-compact {
          color: nb-theme(menu-submenu-item-icon-hover-color);
        }
      }

      a.active:hover {
        background-color: nb-theme(menu-submenu-item-active-hover-background-color);
        border-color: nb-theme(menu-submenu-item-active-hover-border-color);
        color: nb-theme(menu-submenu-item-active-hover-text-color);

        .menu-icon-compact {
          color: nb-theme(menu-submenu-item-icon-active-hover-color);
        }
      }
    }

    .menu-item-compact > .menu-items-compact > .menu-group-compact {
      &,
      & nb-icon.menu-icon-compact {
        color: nb-theme(menu-group-text-color);
      }
    }

    .menu-items-compact > .menu-item-compact > .menu-items-section-compact > a {
      background-color: nb-theme(background-basic-color-4);
    }

    .menu-items-compact > .menu-item-compact > .menu-items-section-compact > li {
      background-color: nb-theme(background-basic-color-2);
    }

    .menu-items-compact > .menu-item-compact > .menu-items-section-compact > .menu-item-compact .menu-icon-compact {
      margin: nb-theme(menu-item-icon-margin);
    }
  }
}
